<html xmlns="http://www.w3.org/1999/html">
    <head>
        <title>ArgoCD újdonságok</title>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
        <link rel="stylesheet" href="reveal.css">
        <link rel="stylesheet" href="theme/beige.css" id="theme">
        <style>
            .fragment {
                font-size: 90%;
            }
        </style>
    </head>
    <body class="is-preload">
        <div class="reveal">
            <div style="width: 95%;margin:0 auto;display:table;height:60px;">
                <span style="max-height: 48px;display:table-cell;vertical-align:middle;padding-left:30px;">BeerUP Tech Fest &ndash; 2024. június 20.</span>
                <img src="https://assets-global.website-files.com/60be3a76e72a7c397e62f49c/60c7b5fa9679d957537bf1d5_mndwrk-logo-color-svg.svg"
                     style="float:right;width:100%;max-height: 48px;display:table-cell;vertical-align:middle;">
            </div>
            <hr style="margin:0;"/>
            <section class="slides">
                <section>
                    <section>
                        <h2>ArgoCD újdonságok</h2>
                        <p><small>Gábor AUTH (<a href="mailto:gabor.auth@iotguru.cloud">gabor.auth@iotguru.cloud</a>)</small></p>
                    </section>

                    <section>
                        <h3>Agenda</h3>
                        <p class="fragment roll-in">1. DevOps</p>
                        <p class="fragment roll-in">2. Kubernetes</p>
                        <p class="fragment roll-in">3. GitOps</p>
                        <p class="fragment roll-in">4. ArgoCD</p>
                        <p class="fragment roll-in">5. ArgoCD újdonságok</p>
                        <p class="fragment roll-in">6. Összegzés, Q&amp;A</p>
                    </section>
                </section>

                <section>
                    <section>
                        <h3>1. Bevezetés</h3>
                        <p class="fragment roll-in">
                            <img src="20240620/devops-fs8.png" style="width:40%;" alt="DevOpsQA">
                        </p>
                    </section>

                    <section>
                        <h3>1.1. DevOps</h3>
                        <p class="fragment roll-in">
                            <em>
                                "DevOps is the combination of cultural philosophies, practices, and tools that increases an organization’s
                                ability to deliver applications and services at high velocity: evolving and improving products at a faster
                                pace than organizations using traditional software development and infrastructure management processes."
                            </em>
                        </p>
                    </section>

                    <section>
                        <h3>1.1. DevOps</h3>
                        <ol>
                            <li class="fragment roll-in">olyan fejlesztő, aki tud üzemeltetni is <em class="fragment roll-in">(bullshit)</em></li>
                            <li class="fragment roll-in">olyan üzemeltető, aki tud fejleszteni is <em class="fragment roll-in">(bullshit)</em></li>
                            <li class="fragment roll-in">a fejlesztői infrastruktúrát üzemelteti <em class="fragment roll-in">(platform engineer)</em></li>
                            <li class="fragment roll-in">a felhős infrastruktúrát üzemelteti <em class="fragment roll-in">(cloud engineer)</em></li>
                            <li class="fragment roll-in">az alkalmazásüzemeltő <em class="fragment roll-in">(application operations engineer)</em></li>
                            <li class="fragment roll-in">DevOps is the combination of cultural philosophies... <em class="fragment roll-in">(ez!)</em></li>
                        </ol>
                    </section>

                    <section>
                        <h3>1.1. DevOps</h3>
                        <p class="fragment roll-in">
                            Azt szoktam mondani, hogy a <em>"nálunk a Béla a devopszos"</em> kijelentés pont annyira hülyén kell hangozzon, mint
                            az, hogy <em>"nálunk a Józsi az agilis fejlesztő"</em>...
                        </p>
                        <p class="fragment roll-in">
                            ...de úgy tűnik, hogy a <em>"nálunk a Béla a devopszos"</em> kijelentés velünk marad.
                        </p>
                    </section>

                    <section>
                        <h3>1.1. DevOps CI/CD loop</h3>
                        <div style="position:relative;width:900px;height:412px;margin:0 auto;">
                            <img class="fragment current-visible fade-in" src="20240620/devops-loop.png"
                                 style="width:100%;height:100%;position:absolute;top:0;left:0;" alt="DevOps loop">
                            <img class="fragment current-visible fade-in" src="20240620/devops-loop-1.png"
                                 style="width:100%;height:100%;position:absolute;top:0;left:0;" alt="DevOps loop">
                            <img class="fragment current-visible fade-in" src="20240620/devops-loop-2.png"
                                 style="width:100%;height:100%;position:absolute;top:0;left:0;" alt="DevOps loop">
                            <img class="fragment current-visible fade-in" src="20240620/devops-loop-3.png"
                                 style="width:100%;height:100%;position:absolute;top:0;left:0;" alt="DevOps loop">
                        </div>
                    </section>
                </section>

                <section>
                    <section>
                        <h3>2. Kubernetes</h3>
                        <p class="fragment roll-in">
                            <a href="https://kubernetes.io/">https://kubernetes.io/</a>
                        </p>
                        <p class="fragment roll-in">Google "hobby-projekt"</p>
                        <p class="fragment roll-in">Nyílt forrású 2014 óta</p>
                        <p class="fragment roll-in">2020 óta kvázi szabvány</p>
                        <p class="fragment roll-in">A neve “kormányos” görögül</p>
                        <p class="fragment roll-in">Deklaratív konfiguráció</p>
                    </section>
                    <section>
                        <h3>2.1. Mi is ez?</h3>
                        <p class="fragment roll-in">Service discovery & orchestration</p>
                        <p class="fragment roll-in">Automated rollout and rollback</p>
                        <p class="fragment roll-in">Configuration management</p>
                        <p class="fragment roll-in">Health checks & rules</p>
                        <p class="fragment roll-in">Load balancing</p>
                        <p class="fragment roll-in">Self-healing</p>
                    </section>
                    <section>
                        <h3>2.1. Mi is ez?</h3>

                        <div class="fragment roll-in">
                            <img src="20240620/components-of-kubernetes.svg"></img>
                        </div>
                    </section>
                    <section>
                        <h3>3.2. CLI</h3>

                        <code class="fragment roll-in">kubectl get pods</code><br>
                        <code class="fragment roll-in">kubectl create deployment --image nginx nginx</code><br>
                        <code class="fragment roll-in">kubectl get pods</code><br>
                        <code class="fragment roll-in">kubectl delete deployment nginx</code><br>
                        <p class="fragment roll-in">Ops... ezt nem kellett volna...</p>
                    </section>

                    <section>
                        <h3>2.3. YAML</h3>

                        <p class="fragment roll-in">Tegyük az nginx cuccokat yaml fájlba</p>
                        <code class="fragment roll-in">kubectl apply -f nginx.yaml</code><br>
                        <code class="fragment roll-in">kubectl get pods</code><br>
                        <code class="fragment roll-in">kubectl delete deployment nginx</code><br>
                        <p class="fragment roll-in">Ops... semmi baj!</p>
                        <code class="fragment roll-in">kubectl apply -f nginx.yaml</code><br>
                        <code class="fragment roll-in">kubectl get pods</code><br>
                    </section>
                    <section>
                        <h3>2.3. YAML</h3>

                        <div class="fragment roll-in">
                            <img src="20240620/yaml-meme.png"></img>
                        </div>
                    </section>

                    <section>
                        <h3>2.4. Hogyan tovább?</h3>

                        <p class="fragment roll-in">Hol tároljuk ezeket a fájlokat?</p>
                        <p class="fragment roll-in">Hogyan kezeljük ezeket a fájlokat?</p>
                        <p class="fragment roll-in">Hogyan kövessük a változásokat?</p>
                        <p class="fragment roll-in">Itt jön a képbe a GitOps!</p>
                    </section>
                </section>

                <section>
                    <section>
                        <h3>3. GitOps</h3>

                        <p class="fragment roll-in">
                            <em>"GitOps uses Git repositories as a single source of truth to deliver infrastructure as code."</em>
                        </p>
                    </section>
                    <section>
                        <h3>3. GitOps</h3>

                        <p class="fragment roll-in">
                            single source of truth
                        </p>
                    </section>
                    <section>
                        <h3>3.1. Mi is ez?</h3>

                        <p class="fragment roll-in">Standard workflow</p>
                        <p class="fragment roll-in">Improved reliability with visibility</p>
                        <p class="fragment roll-in">Consistency across all environment</p>
                        <p class="fragment roll-in">Increased security</p>
                    </section>

                    <section>
                        <h3>3.2. Példa alkalmazás</h3>

                        <img src="20240620/gitops-0.png"></img>
                    </section>

                    <section>
                        <h3>3.2. Példa alkalmazás</h3>

                        <img src="20240620/gitops-1.png"></img>
                    </section>

                    <section>
                        <h3>3.2. Példa alkalmazás</h3>

                        <img src="20240620/gitops-2.png"></img>
                    </section>

                    <section>
                        <h3>3.2. Példa alkalmazás</h3>

                        <img src="20240620/gitops-3.png"></img>
                    </section>

                    <section>
                        <h3>3.2. Példa alkalmazás</h3>

                        <img src="20240620/gitops-4.png"></img>
                    </section>

                    <section>
                        <h3>3.2. Példa alkalmazás</h3>

                        <img src="20240620/gitops-5.png"></img>
                    </section>

                    <section>
                        <h3>3.2. Példa alkalmazás</h3>

                        <img src="20240620/gitops-6.png"></img>
                    </section>

                    <section>
                        <h3>3.3. Gitflow</h3>

                        <img src="20240620/gitflow.png"></img>
                    </section>

                    <section>
                        <h3>3.3. Gitflow</h3>

                        <img src="20240620/gitflow-pr.png"></img>
                    </section>
                </section>

                <section>
                    <section>
                        <h3>4. ArgoCD</h3>

                        <p class="fragment roll-in">
                            <em>
                                "Argo CD is a declarative, GitOps continuous delivery tool for Kubernetes."
                            </em>
                        </p>
                    </section>
                    <section>
                        <h3>4.1. Mi is ez?</h3>

                        <p class="fragment roll-in">Create clusters with a known state.</p>
                        <p class="fragment roll-in">Recover or recreate applications.</p>
                        <p class="fragment roll-in">Apply or revert configuration changes.</p>
                        <p class="fragment roll-in">Templated configuration with different environments.</p>
                    </section>
                    <section>
                        <h3>4.1. Mi is ez?</h3>

                        <p class="fragment roll-in">A lánc, a kapocs vagy a ragasztó a GitOps és a Kubernetes között.</p>
                    </section>
                    <section>
                        <h3>4.1. Mi is ez?</h3>

                        <p class="fragment roll-in">ArgoCD alapja az 'application'</p>
                        <p class="fragment roll-in">Minden 'application' Git repóban van definiálva</p>
                        <p class="fragment roll-in">Tart magánál egy Git repó replikát</p>
                        <p class="fragment roll-in">Szinkronban tartja a Kubernetes állapotot a kívánt állapottal</p>
                    </section>
                    <section>
                        <h3>4.2. Hogy néz ki?</h3>

                        <img src="20240620/argocd-0.png"></img>
                    </section>

                    <section>
                        <h3>4.2. Hogy néz ki?</h3>

                        <img src="20240620/argocd-1.png"></img>
                    </section>

                    <section>
                        <h3>4.2. Hogy néz ki?</h3>

                        <img src="20240620/argocd-2.png"></img>
                    </section>
                </section>

                <section>
                    <section>
                        <h3>5. ArgoCD újdonságok</h3>

                        <p class="fragment roll-in">ArgCD base</p>
                        <p class="fragment roll-in">ArgCD ApplicationSet generators</p>
                        <p class="fragment roll-in">ArgCD plugins</p>
                        <p class="fragment roll-in">ArgCD side projects</p>
                    </section>

                    <section>
                        <h3>5.1. ArgoCD base</h3>

                        <p class="fragment roll-in">KISS paradigma: keep-it-simple-stupid</p>
                        <p class="fragment roll-in">minimális fejlesztések</p>
                        <p class="fragment roll-in">kényelmi javítások</p>
                    </section>

                    <section>
                        <h3>5.1.1. ArgoCD v2.4</h3>

                        <p class="fragment roll-in">sok breaking change</p>
                        <p class="fragment roll-in">web terminal</p>
                        <p class="fragment roll-in">OpenTelemetry tracing UI</p>
                    </section>

                    <section>
                        <h3>5.1.2. ArgoCD v2.5</h3>

                        <p class="fragment roll-in">server side apply</p>
                        <p class="fragment roll-in">project level restrictions</p>
                    </section>

                    <section>
                        <h3>5.1.3. ArgoCD v2.6</h3>

                        <p class="fragment roll-in">CM plugin paraméterezés UI</p>
                        <p class="fragment roll-in">create namespace opció</p>
                        <p class="fragment roll-in">multi-source (UI nélkül)</p>
                        <p class="fragment roll-in">progresszív rollout</p>
                    </section>

                    <section>
                        <h3>5.1.4. ArgoCD v2.7</h3>

                        <p class="fragment roll-in">új log viewer UI</p>
                        <p class="fragment roll-in">readiness gate UI</p>
                    </section>

                    <section>
                        <h3>5.1.5. ArgoCD v2.8</h3>

                        <p class="fragment roll-in">új ApplicationSet generator</p>
                        <p class="fragment roll-in">create cron job UI</p>
                        <p class="fragment roll-in">kinyitható pod lista UI</p>
                    </section>

                    <section>
                        <h3>5.1.6. ArgoCD v2.9</h3>

                        <p class="fragment roll-in">controller shards</p>
                        <p class="fragment roll-in">ignore ApplicationSet differences</p>
                        <p class="fragment roll-in">feljavított Gitlab kapcsolat</p>
                    </section>

                    <section>
                        <h3>5.1.7. ArgoCD v2.10</h3>

                        <p class="fragment roll-in">ApplicationSet templates</p>
                        <p class="fragment roll-in">UI authentication fejlesztések</p>
                        <p class="fragment roll-in">server side diff UI</p>
                    </section>

                    <section>
                        <h3>5.1.8. ArgoCD v2.11</h3>

                        <p class="fragment roll-in">manual sync audit log</p>
                        <p class="fragment roll-in">javított monorepo támogatás</p>
                        <p class="fragment roll-in">újragondolt multi-source támogatás</p>
                    </section>

                    <section>
                        <h3>5.2. ArgoCD ApplicationSet generators</h3>

                        <p class="fragment roll-in">list generator: target fixed list of clusters</p>
                        <p class="fragment roll-in">cluster generator: create cluster connection base on lists</p>
                        <p class="fragment roll-in">git generator: create application based on git structure</p>
                        <p class="fragment roll-in">matrix generator: combine two other generator in matrix</p>
                    </section>

                    <section>
                        <h3>5.2. ArgoCD ApplicationSet generators</h3>

                        <p class="fragment roll-in">merge generator: merge two or more generators</p>
                        <p class="fragment roll-in">SCM generator: discovery of SCM structure</p>
                        <p class="fragment roll-in">pull request generator: create application based on pull request</p>
                        <p class="fragment roll-in">cluster decision generator: create application based on cluster resources</p>
                    </section>

                    <section>
                        <h3>5.3. ArgoCD plugins</h3>

                        <p class="fragment roll-in">Helm, Jsonnet, Kustomize</p>
                        <p class="fragment roll-in">Config Management Plugins</p>
                        <p class="fragment roll-in">Sidecar telepíthetőek</p>
                    </section>

                    <section>
                        <h3>5.3. ArgoCD plugins</h3>

                        <p class="fragment roll-in">Vault plugin - vault</p>
                        <p class="fragment roll-in">Terrafor provider - terraform</p>
                        <p class="fragment roll-in">sok egyéb közösségi plugin</p>
                    </section>

                    <section>
                        <h3>5.3. ArgoCD side projects</h3>

                        <p class="fragment roll-in">Argo Workflow - workflow engine</p>
                        <p class="fragment roll-in">Argo Rollouts - deployment tool (blue-green, canary, etc)</p>
                        <p class="fragment roll-in">Argo Image updater - image updater</p>
                        <p class="fragment roll-in">Argo Autopilot - ArgoCD deployment</p>
                    </section>
                </section>

                <section>
                    <section>
                        <h3>6. Összegzés, Q&amp;A</h3>
                    </section>
                </section>
            </section>
        </div>
        <script src="reveal.js"></script>
        <script>
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,
                slideNumber: true,
                transition: 'zoom'
            });
        </script>
    </body>
</html>
